---
import MainLayout from './../../layouts/Layout.astro';
import Icon from './../../../public/assets/outfeed/icon.png';
import { Image } from 'astro:assets';

const osName = '';
---

<MainLayout title='Get OutFeed'>
    <main class="min-h-[62vh]">
        <div class="text-center space-y-4">
            <Image src={Icon} alt="OutFeed Icon" width="200" class="mx-auto" loading="lazy"/>
            <h1 class="text-5xl font-bold">Built For People, Secured by Default</h1>
            <p><b>OutFeed</b> is a high-performance desktop application designed for seamlessly reading RSS feeds.</p>
            <div class="flex items-center justify-center gap-4 pt-4">
                <a href="https://github.com/happer64bit/OutFeed/releases/latest" target="_blank">
                    <button id="download-button" class="bg-white font-bold text-black px-4 py-2 rounded shadow-white shadow-md hover:shadow-none transform duration-200">
                        Download For <span id="os-name">{osName}</span>
                    </button>
                </a>
                <a href="https://github.com/happer64bit/OutFeed" target="_blank">
                    <button>Source Code</button>
                </a>
            </div>
        </div>
    </main>

    <script>
        // Function to get the operating system name
        function getOSName() {
            const userAgent = navigator.userAgent;

            if (userAgent.indexOf('Win') !== -1) return 'Windows';
            if (userAgent.indexOf('Mac') !== -1) return 'macOS';
            if (userAgent.indexOf('Linux') !== -1) return 'Linux';
            if (userAgent.indexOf('Android') !== -1) return 'Android';
            if (userAgent.indexOf('like Mac') !== -1) return 'iOS'; // For iPads/iPhones

            return '';
        }

        // Set the OS name in the button text
        document.getElementById('os-name')!.innerText = getOSName();
    </script>
</MainLayout>
