---
import PhotoGrid from "./PhotoGrid.astro";
---

<section
  id="about"
  class="body-mono ink-text relative min-h-screen flex flex-col items-center justify-center border-t border-black/20 py-20"
  style="position: relative; z-index: 1;"
>
  <div
    class="mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8"
  >
    <div class="about-content about-board relative overflow-hidden space-y-8 px-5 py-7 sm:space-y-12 sm:px-9 sm:py-10">
      <div
        class="grid grid-cols-1 items-center gap-8 sm:gap-12 lg:grid-cols-2 lg:gap-16"
      >
        <div
          class="space-y-6 sm:space-y-8 text-base sm:text-lg md:text-xl leading-relaxed text-black/80"
        >
          <h2
            class="heading-sans text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 sm:mb-8 uppercase"
          >
            <span class="highlight-yellow">About Me</span>
          </h2>
          <p>
            <span class="heading-sans float-left mr-3 mt-1 text-6xl leading-none">I</span> grew up in
            Shwe Pyi Thar, Yangonâ€”and that shaped how I see everything. Nothing was
            handed to me, so I learned early how to rely on myself. I respect where
            I came from: the struggle, the people, the rhythm of life.
          </p>

          <p>
            But I never let it decide how far I can go. I move forward carrying
            discipline from the past and ambition for the future. Every skill I
            build, every late night I grind, is proof that my starting point
            doesn't define my destination.
          </p>
        </div>

        <div class="flex justify-center lg:justify-center">
          <PhotoGrid />
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  function initAboutEffects() {
    const aboutSection = document.querySelector("#about");
    const aboutContent = aboutSection?.querySelector(".about-content");
    if (!aboutSection || !aboutContent) return;

    gsap.from(aboutContent, {
      opacity: 0,
      y: 50,
      duration: 1,
      ease: "power2.out",
      scrollTrigger: {
        trigger: aboutSection,
        start: "top 80%",
        end: "top 50%",
        scrub: true,
      },
    });
  }

  function cleanup() {
    ScrollTrigger.getAll().forEach((st) => st.kill());
    gsap.killTweensOf("*");
  }

  document.addEventListener("astro:page-load", () => {
    cleanup();
    initAboutEffects();
  });
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initAboutEffects);
  } else {
    initAboutEffects();
  }
</script>

<style>
  .about-board {
    border: 2px solid rgba(24, 24, 24, 0.92);
    border-radius: 24px 14px 28px 16px / 16px 26px 14px 24px;
    background: color-mix(in srgb, var(--paper-cream) 88%, white 12%);
    box-shadow: 7px 8px 0 rgba(24, 24, 24, 0.95);
  }

  .about-board::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0.12;
    background-image:
      radial-gradient(circle at center, rgba(24, 24, 24, 0.18) 0.6px, transparent 0.7px);
    background-size: 6px 6px;
  }
</style>
